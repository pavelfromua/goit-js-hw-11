{"version":3,"file":"index.js","sources":["../src/js/common.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst showMessage = (type, title, message) => {\n  iziToast[type]({\n    title,\n    message,\n    timeout: 2000,\n    progressBar: false,\n    position: 'center'\n  });\n};\n\nconst errorMessage = (message, title = '') => {\n  showMessage('error', title, message);\n};\n\nconst successMessage = (message, title = '') => {\n  showMessage('success', title, message);\n};\n\nexport { errorMessage, successMessage };","const requestParams = new URLSearchParams({\n  key: '33588137-20261db95d6a52f088d4718c9',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true'\n});\n\nconst fetchImages = (query) => {\n  requestParams.set('q', query);\n\n  return fetch(`https://pixabay.com/api/?${requestParams}`)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .then((response) => {\n      if (response.hits.length === 0) {\n        throw new Error('Sorry, there are no images matching your search query. Please try again!');\n      }\n\n      return response.hits.map(hit => ({\n        webformatURL: hit.webformatURL,\n        largeImageURL: hit.largeImageURL,\n        tags: hit.tags,\n        likes: hit.likes,\n        views: hit.views,\n        comments: hit.comments,\n        downloads: hit.downloads,\n      }));\n    })\n    .catch((error) => {throw error});\n};\n\nexport { fetchImages };","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst getGalleryItem = ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n  return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n    <div class=\"image-details\">\n       <div class=\"details-header\">Likes</div>\n        <div class=\"details-header\">Views</div>\n        <div class=\"details-header\">Comments</div>\n        <div class=\"details-header\">Downloads</div>\n        <div class=\"details-value\">${likes}</div>\n        <div class=\"details-value\">${views}</div>\n        <div class=\"details-value\">${comments}</div>\n        <div class=\"details-value\">${downloads}</div>\n      </div>\n  </a>\n</li>`;\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  animationSpeed: 300,\n  overlay: true,\n  overlayOpacity: 0.5,\n});\n\nlightbox.on('show.simplelightbox', function () {\n});\n\nlightbox.on('closed.simplelightbox', function () {\n});\n\nconst renderGallery = (gallery, images) => {\n  gallery.innerHTML = images.map(image => getGalleryItem(image)).join('');\n  lightbox.refresh();\n};\n\nexport { renderGallery};\n","import { errorMessage, successMessage } from './js/common.js';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\nconst searchFieldSelector = document.querySelector('.search-field');\nconst loaderContainer = document.querySelector('.loader-container');\nconst gallery = document.querySelector('.gallery');\n\nfunction showLoader() {\n  loaderContainer.style.display = 'flex';\n}\n\nfunction hideLoader() {\n  loaderContainer.style.display = 'none';\n}\n\ndocument.querySelector('.form').addEventListener('submit', (event) => {\n  event.preventDefault();\n\n  const query = searchFieldSelector.value.trim();\n  if (query.length === 0) {\n    return;\n  }\n\n  showLoader();\n  fetchImages(query)\n    .then(images => {\n      renderGallery(gallery, images);\n      hideLoader();\n    })\n    .catch((error) => {\n      errorMessage(error.message);\n      hideLoader();\n      gallery.innerHTML = '';\n    });\n});\n\n"],"names":["showMessage","type","title","message","iziToast","errorMessage","requestParams","fetchImages","query","response","hit","error","getGalleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","renderGallery","gallery","images","image","searchFieldSelector","loaderContainer","showLoader","hideLoader","event"],"mappings":"6vBAGA,MAAMA,EAAc,CAACC,EAAMC,EAAOC,IAAY,CAC5CC,EAASH,CAAI,EAAE,CACb,MAAAC,EACA,QAAAC,EACA,QAAS,IACT,YAAa,GACb,SAAU,QACd,CAAG,CACH,EAEME,EAAe,CAACF,EAASD,EAAQ,KAAO,CAC5CF,EAAY,QAASE,EAAOC,CAAO,CACrC,ECfMG,EAAgB,IAAI,gBAAgB,CACxC,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,MACd,CAAC,EAEKC,EAAeC,IACnBF,EAAc,IAAI,IAAKE,CAAK,EAErB,MAAM,4BAA4BF,CAAa,EAAE,EACrD,KAAMG,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAMA,GAAa,CAClB,GAAIA,EAAS,KAAK,SAAW,EAC3B,MAAM,IAAI,MAAM,0EAA0E,EAG5F,OAAOA,EAAS,KAAK,IAAIC,IAAQ,CAC/B,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,CACR,CAAK,EACA,MAAOC,GAAU,CAAC,MAAMA,CAAK,CAAC,GC/B7BC,EAAiB,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC5E;AAAA,kCACyBL,CAAa;AAAA,sCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAM3BC,CAAK;AAAA,qCACLC,CAAK;AAAA,qCACLC,CAAQ;AAAA,qCACRC,CAAS;AAAA;AAAA;AAAA,OAMxCC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,IAChB,QAAS,GACT,eAAgB,EAClB,CAAC,EAEDD,EAAS,GAAG,sBAAuB,UAAY,CAC/C,CAAC,EAEDA,EAAS,GAAG,wBAAyB,UAAY,CACjD,CAAC,EAED,MAAME,EAAgB,CAACC,EAASC,IAAW,CACzCD,EAAQ,UAAYC,EAAO,IAAIC,GAASb,EAAea,CAAK,CAAC,EAAE,KAAK,EAAE,EACtEL,EAAS,QAAO,CAClB,ECnCMM,EAAsB,SAAS,cAAc,eAAe,EAC5DC,EAAkB,SAAS,cAAc,mBAAmB,EAC5DJ,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASK,GAAa,CACpBD,EAAgB,MAAM,QAAU,MAClC,CAEA,SAASE,GAAa,CACpBF,EAAgB,MAAM,QAAU,MAClC,CAEA,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAWG,GAAU,CACpEA,EAAM,eAAc,EAEpB,MAAMtB,EAAQkB,EAAoB,MAAM,KAAI,EACxClB,EAAM,SAAW,IAIrBoB,IACArB,EAAYC,CAAK,EACd,KAAKgB,GAAU,CACdF,EAAcC,EAASC,CAAM,EAC7BK,GACN,CAAK,EACA,MAAOlB,GAAU,CAChBN,EAAaM,EAAM,OAAO,EAC1BkB,IACAN,EAAQ,UAAY,EAC1B,CAAK,EACL,CAAC"}